/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { institutionsSearch } from "../funcs/institutionsSearch.js";
import { institutionsSearchInstitutions } from "../funcs/institutionsSearchInstitutions.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Institutions extends ClientSDK {
  /**
   * Search for financial institutions by name or routing number.
   *
   * This endpoint returns metadata about each matched institution, including basic identifying details (such as name, routing number, and address) and information about which payment services they support (e.g., ACH, RTP, and Wire).
   *
   * This can be used to validate a financial institution before initiating payment activity, or to check which payment rails are available for a given routing number.
   *
   * To access this endpoint using an [access token](https://docs.moov.io/api/authentication/access-tokens/)
   * you'll need to specify the `/institutions.read` scope.
   */
  async searchInstitutions(
    request: operations.SearchInstitutionsRequest,
    options?: RequestOptions,
  ): Promise<operations.SearchInstitutionsResponse> {
    return unwrapAsync(institutionsSearchInstitutions(
      this,
      request,
      options,
    ));
  }

  /**
   * This endpoint has been deprecated and will be removed in a future release. Use [/institutions](https://docs.moov.io/api/enrichment/form-shortening/institutions/get/).
   *
   * Search for institutions by either their name or routing number.
   *
   * To access this endpoint using an [access token](https://docs.moov.io/api/authentication/access-tokens/)
   * you'll need to specify the `/fed.read` scope.
   *
   * @deprecated method: This will be removed in a future release, please migrate away from it as soon as possible.
   */
  async search(
    request: operations.ListInstitutionsRequest,
    options?: RequestOptions,
  ): Promise<operations.ListInstitutionsResponse> {
    return unwrapAsync(institutionsSearch(
      this,
      request,
      options,
    ));
  }
}
